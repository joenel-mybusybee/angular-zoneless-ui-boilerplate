import{a as ge}from"./chunk-C7PWTPIW.js";import{d as re,e as se,f as le,g as ce,r as de,s as pe,t as me}from"./chunk-RHQTZSCT.js";import{a as ae}from"./chunk-UJGH4TKB.js";import{a as oe}from"./chunk-IZ3LLJO2.js";import"./chunk-VWJHJAMU.js";import{b as Q,c as X,e as ee,f as O,g as te,h as ne,j as ie}from"./chunk-52TRBPRN.js";import{k as J,n as K}from"./chunk-ELZ3HLUI.js";import{Ab as l,Ga as r,Jb as x,Kb as T,La as p,Lb as m,Mb as M,Ra as u,Wa as B,Y as V,Ya as G,Zb as R,_b as q,aa as z,ba as H,fb as U,ga as f,ha as v,hb as g,i as L,ia as j,ib as b,ja as $,jb as W,kb as w,lb as P,mb as _,nb as o,nc as Z,ob as a,pb as c,q as F,ub as C,wa as Y,yb as d,z as A}from"./chunk-DQHNRFYU.js";var y=class n{constructor(t,e,i){this.authService=t;this.router=e;this.el=i}toggleSidebar=new G;onToggleSidebar(){this.toggleSidebar.emit()}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||n)(p(ae),p(O),p(Y))};static \u0275cmp=u({type:n,selectors:[["app-header"]],outputs:{toggleSidebar:"toggleSidebar"},decls:19,vars:0,consts:[[1,"app-header","header-fixed","bg-primary","text-white","p-3","d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["aria-label","Toggle sidebar",1,"btn","btn-link","text-white","d-lg-none","me-2",3,"click"],[1,"bi","bi-list","fs-4"],["aria-label","Toggle sidebar",1,"btn","btn-link","text-white","d-none","d-lg-block","me-2",3,"click"],[1,"fw-bold","fs-4"],["ngbDropdown","",1,"dropdown"],["ngbDropdownToggle","","type","button",1,"btn","btn-primary","dropdown-toggle","d-flex","align-items-center"],[1,"me-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-circle"],["d","M11 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0 0 14A7 7 0 0 0 8 1zM4.285 12.433A5.978 5.978 0 0 1 8 13a5.978 5.978 0 0 1 3.715-1.567c-.2-.58-.805-1.433-3.715-1.433-2.91 0-3.515.853-3.715 1.433z"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","#",1,"dropdown-item",3,"click"]],template:function(e,i){e&1&&(o(0,"header",0)(1,"div",1)(2,"button",2),d("click",function(){return i.onToggleSidebar()}),c(3,"i",3),a(),o(4,"button",4),d("click",function(){return i.onToggleSidebar()}),c(5,"i",3),a(),o(6,"span",5),m(7,"Admin Dashboard"),a()(),o(8,"div",6)(9,"button",7)(10,"span",8),m(11,"Profile"),a(),j(),o(12,"svg",9),c(13,"path",10)(14,"path",11),a()(),$(),o(15,"ul",12)(16,"li")(17,"a",13),d("click",function(){return i.logout()}),m(18,"Logout"),a()()()()())},dependencies:[ce,le,se,re],styles:[".app-header[_ngcontent-%COMP%]{height:var(--header-height);box-shadow:0 2px 8px #0000000d}.app-header.header-fixed[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1001}.app-header.header-transparent[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none}.app-header.header-compact[_ngcontent-%COMP%]{padding:.5rem 1rem}"]})};var k=class n{constructor(t){this.router=t;this.initializeNavigation()}navigationItems=new L([]);navigationItems$=this.navigationItems.asObservable();initializeNavigation(){let t=this.convertRoutesToNavigationItems(ge);this.navigationItems.next(t)}convertRoutesToNavigationItems(t){return t.filter(e=>!e.hideInMenu).map(e=>({path:e.path,label:e.label,icon:e.icon,hideInMenu:e.hideInMenu,permissions:e.permissions,children:e.children?this.convertRoutesToNavigationItems(e.children):void 0}))}hasPermission(t){return!t||t.length===0,!0}static \u0275fac=function(e){return new(e||n)(z(O))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var ve=n=>["/main",n],Ce=n=>({exact:n}),xe=(n,t)=>["/main",n,t],be=(n,t)=>t.path;function Me(n,t){if(n&1&&c(0,"i",9),n&2){let e=l().$implicit,i=l();x("bi-chevron-down",!i.isExpanded(e.path))("bi-chevron-up",i.isExpanded(e.path))}}function Oe(n,t){if(n&1&&(o(0,"li",2)(1,"a",12),c(2,"i",5),o(3,"span",6),m(4),a()()()),n&2){let e=t.$implicit,i=l(2).$implicit;r(),_("routerLink",q(4,xe,i.path,e.path)),r(),T("bi-"+e.icon),r(2),M(e.label)}}function we(n,t){if(n&1&&(o(0,"div",10)(1,"ul",11),w(2,Oe,5,7,"li",2,be),a()()),n&2){let e=l().$implicit,i=l();x("show",i.isExpanded(e.path)),r(2),P(e.children)}}function Pe(n,t){if(n&1){let e=C();o(0,"li",2)(1,"a",3),d("click",function(s){let h=f(e).$implicit,_e=l();return v(h.children!=null&&h.children.length?_e.toggleSubmenu(h.path,s):null)}),o(2,"div",4),c(3,"i",5),o(4,"span",6),m(5),a()(),g(6,Me,1,4,"i",7),a(),g(7,we,4,2,"div",8),a()}if(n&2){let e=t.$implicit;U("data-path",e.path),r(),_("routerLink",e.children!=null&&e.children.length?null:R(8,ve,e.path))("routerLinkActiveOptions",R(10,Ce,!(e.children!=null&&e.children.length))),r(2),T("bi-"+e.icon),r(2),M(e.label),r(),b(e.children!=null&&e.children.length?6:-1),r(),b(e.children!=null&&e.children.length?7:-1)}}var I=class n{constructor(t){this.navigationService=t}collapsed=!1;isMobileView=!1;isHidden=!1;navigationItems=[];expandedItems=new Set;ngOnInit(){this.navigationService.navigationItems$.subscribe(t=>{this.navigationItems=t})}toggleSubmenu(t,e){e.preventDefault();let i=e.target.closest(".nav-item")?.querySelector(".submenu-collapse");i&&(this.expandedItems.has(t)?(i.style.height=i.scrollHeight+"px",i.offsetHeight,i.style.height="0",this.expandedItems.delete(t)):(i.style.height=i.scrollHeight+"px",this.expandedItems.add(t),i.addEventListener("transitionend",()=>{this.expandedItems.has(t)&&(i.style.height="auto")},{once:!0})))}isExpanded(t){return this.expandedItems.has(t)}static \u0275fac=function(e){return new(e||n)(p(k))};static \u0275cmp=u({type:n,selectors:[["app-sidebar"]],inputs:{collapsed:"collapsed",isMobileView:"isMobileView",isHidden:"isHidden"},decls:5,vars:6,consts:[[1,"app-sidebar","sidebar-fixed","bg-light","p-3"],[1,"nav","flex-column"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","d-flex","align-items-center","justify-content-between",3,"click","routerLink","routerLinkActiveOptions"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"nav-text"],[1,"bi",3,"bi-chevron-down","bi-chevron-up"],[1,"submenu-collapse",3,"show"],[1,"bi"],[1,"submenu-collapse"],[1,"nav","flex-column","ms-3"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(e,i){e&1&&(o(0,"aside",0)(1,"nav")(2,"ul",1),w(3,Pe,8,12,"li",2,be),a()()()),e&2&&(x("sidebar-collapsed",i.collapsed)("mobile-view",i.isMobileView)("sidebar-hidden",i.isHidden),r(3),P(i.navigationItems))},dependencies:[ie,te,ne,K],styles:["aside.app-sidebar[_ngcontent-%COMP%]{position:fixed;left:0;top:var(--header-height);height:calc(100vh - var(--header-height));width:var(--sidebar-width);background-color:var(--bs-light);box-shadow:2px 0 8px #00000008;z-index:1020;overflow-y:auto;transition:width .3s ease}aside.app-sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1rem;color:#333;cursor:pointer;transition:background-color .3s ease,color .3s ease}aside.app-sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:24px;text-align:center;margin-right:.75rem;transition:margin .3s ease,transform .3s ease}aside.app-sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{opacity:1;transition:opacity .3s ease}aside.app-sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#0000000d}aside.app-sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--bs-primary);background-color:rgba(var(--bs-primary-rgb),.1)}aside.app-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%] ~ .nav-link[_ngcontent-%COMP%], aside.app-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%] + .nav-link[_ngcontent-%COMP%], aside.app-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:has(.submenu-collapse .nav-link.active) > .nav-link[_ngcontent-%COMP%]{color:var(--bs-primary);background-color:rgba(var(--bs-primary-rgb),.1)}aside.app-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%] > .nav-link.active[_ngcontent-%COMP%], aside.app-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--bs-primary);background-color:rgba(var(--bs-primary-rgb),.1)}aside.app-sidebar[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]{height:0;overflow:hidden;transition:height .3s cubic-bezier(.4,0,.2,1)}aside.app-sidebar[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:2.75rem}aside.app-sidebar[_ngcontent-%COMP%]   .submenu-collapse.show[_ngcontent-%COMP%]{overflow:visible}aside.app-sidebar.sidebar-collapsed[_ngcontent-%COMP%]{width:var(--sidebar-collapsed-width)}aside.app-sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{opacity:0;width:0;display:none}aside.app-sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.75rem 0;justify-content:center}aside.app-sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}aside.app-sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]{display:none}aside.app-sidebar.mobile-view[_ngcontent-%COMP%]{transition:transform .3s ease;transform:translate(0)}aside.app-sidebar.mobile-view.sidebar-hidden[_ngcontent-%COMP%]{transform:translate(-100%)}"]})};function Te(n,t){n&1&&c(0,"i",5)}function ye(n,t){n&1&&c(0,"i",6)}function Se(n,t){n&1&&c(0,"i",7)}function ke(n,t){n&1&&c(0,"i",8)}function Ie(n,t){if(n&1&&(o(0,"h6",10),m(1),a()),n&2){let e=l(2).$implicit;r(),M(e.title)}}function Ee(n,t){if(n&1){let e=C();o(0,"div",2)(1,"div",4),g(2,Te,1,0,"i",5)(3,ye,1,0,"i",6)(4,Se,1,0,"i",7)(5,ke,1,0,"i",8),a(),o(6,"div",9),g(7,Ie,2,1,"h6",10),o(8,"small"),m(9),a()(),o(10,"button",11),d("click",function(){f(e);let s=l().$implicit,h=l();return v(h.toastService.remove(s))}),a()()}if(n&2){let e,i=l().$implicit,s=l();r(2),b((e=i.type)===s.ALERT_TYPE.SUCCESS?2:e===s.ALERT_TYPE.ERROR?3:e===s.ALERT_TYPE.WARNING?4:e===s.ALERT_TYPE.INFO?5:-1),r(5),b(i.title?7:-1),r(2),M(i.message)}}function Re(n,t){}function Ne(n,t){if(n&1&&B(0,Re,0,0,"ng-template",3),n&2){let e=l().$implicit;_("ngTemplateOutlet",e.template)}}function De(n,t){if(n&1){let e=C();o(0,"ngb-toast",1),d("hidden",function(){let s=f(e).$implicit,h=l();return v(h.toastService.remove(s))}),g(1,Ee,11,3,"div",2)(2,Ne,1,1,null,3),a()}if(n&2){let e=t.$implicit,i=l();T(e.classname),_("autohide",i.autohide)("delay",e.delay||i.defaultDelay),r(),b(!e.template&&e.message?1:2)}}var E=class n{toastService=H(me);ALERT_TYPE=oe;autohide=!0;defaultDelay=5e3;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["app-toast"]],hostAttrs:[1,"toast-container","position-fixed","top-0","end-0","p-3","pt-5","mt-5",2,"z-index","1200"],decls:2,vars:0,consts:[[3,"class","autohide","delay"],[3,"hidden","autohide","delay"],[1,"d-flex","align-items-start"],[3,"ngTemplateOutlet"],[1,"toast-icon","me-2"],[1,"bi","bi-check-circle-fill","text-success"],[1,"bi","bi-x-circle-fill","text-danger"],[1,"bi","bi-exclamation-triangle-fill","text-warning"],[1,"bi","bi-info-circle-fill","text-info"],[1,"toast-body","flex-grow-1"],[1,"mb-1"],["type","button","aria-label","Close",1,"btn-close","ms-2",3,"click"]],template:function(e,i){e&1&&w(0,De,3,5,"ngb-toast",0,W),e&2&&P(i.toastService.toasts())},dependencies:[pe,de,J],styles:["[_nghost-%COMP%]     ngb-toast{min-width:300px;border-left:4px solid;padding:1rem}[_nghost-%COMP%]     ngb-toast.bg-success{background-color:#d4edda!important;border-left-color:#28a745}[_nghost-%COMP%]     ngb-toast.bg-danger{background-color:#f8d7da!important;border-left-color:#dc3545}[_nghost-%COMP%]     ngb-toast.bg-warning{background-color:#fff3cd!important;border-left-color:#ffc107}[_nghost-%COMP%]     ngb-toast.bg-info{background-color:#cce5ff!important;border-left-color:#0dcaf0}.toast-icon[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.25rem}.toast-body[_ngcontent-%COMP%]{margin-top:2px}.btn-close[_ngcontent-%COMP%]{padding:0;font-size:.875rem;opacity:.5;transition:opacity .15s}.btn-close[_ngcontent-%COMP%]:hover{opacity:1}"]})};function Le(n,t){if(n&1){let e=C();o(0,"div",6),d("click",function(){f(e);let s=l();return v(s.handleToggleSidebar())}),a()}}var ue=class n{constructor(t,e,i){this.cdr=t;this.router=e;this.titleService=i;this.resizeListener=()=>{let s=this.isMobile();this.sidebarOpen=!s,s||(this.sidebarCollapsed=!1),this.cdr.detectChanges()},this.sidebarOpen=!this.isMobile()}sidebarOpen=!1;sidebarCollapsed=!1;resizeListener;ngOnInit(){window.addEventListener("resize",this.resizeListener),this.router.events.pipe(A(t=>t instanceof X),F(()=>{let t=this.router.routerState.root,e="Angular Zoneless UI Boilerplate";for(;t.firstChild;)t=t.firstChild,t.snapshot.data&&t.snapshot.data.title&&(e=t.snapshot.data.title);return e})).subscribe(t=>{this.titleService.setTitle(t)})}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener)}handleToggleSidebar(){this.isMobile()?this.sidebarOpen=!this.sidebarOpen:this.sidebarCollapsed=!this.sidebarCollapsed}isMobile(){return window.innerWidth<=991.98}static \u0275fac=function(e){return new(e||n)(p(Z),p(O),p(Q))};static \u0275cmp=u({type:n,selectors:[["main-root"]],decls:8,vars:6,consts:[[1,"app-layout"],[3,"toggleSidebar"],[1,"app-layout-content"],[3,"collapsed","isMobileView","isHidden"],[1,"app-main-content"],[1,"sidebar-backdrop"],[1,"sidebar-backdrop",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"app-header",1),d("toggleSidebar",function(){return i.handleToggleSidebar()}),a(),o(2,"div",2),c(3,"app-sidebar",3),o(4,"main",4),c(5,"router-outlet"),a(),g(6,Le,1,0,"div",5),a()(),c(7,"app-toast")),e&2&&(r(3),_("collapsed",i.sidebarCollapsed&&!i.isMobile())("isMobileView",i.isMobile())("isHidden",!i.sidebarOpen&&i.isMobile()),r(),x("content-expanded",i.sidebarCollapsed&&!i.isMobile()),r(2),b(i.sidebarOpen&&i.isMobile()?6:-1))},dependencies:[ee,y,I,E],styles:[".app-layout[_ngcontent-%COMP%]{min-height:100vh}.app-layout-content[_ngcontent-%COMP%]{position:relative;display:flex;min-height:100vh}.app-main-content[_ngcontent-%COMP%]{flex:1;min-width:0;padding:1.5rem;margin-left:var(--sidebar-width);min-height:calc(100vh - var(--header-height));transition:margin-left .3s ease;overflow-y:auto}.app-main-content.content-expanded[_ngcontent-%COMP%]{margin-left:var(--sidebar-collapsed-width)}@media (max-width: 991.98px){.app-main-content[_ngcontent-%COMP%]{margin-left:0;width:100%}}.sidebar-backdrop[_ngcontent-%COMP%]{display:none}@media (max-width: 991.98px){.sidebar-backdrop[_ngcontent-%COMP%]{display:block;position:fixed;top:var(--header-height);left:0;right:0;bottom:0;background:#0000004d;z-index:1019}}"]})};export{ue as MainRootComponent};
