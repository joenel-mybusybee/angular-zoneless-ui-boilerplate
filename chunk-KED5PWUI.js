import{a as ue}from"./chunk-QFOLOZZ5.js";import{d as le,e as ce,f as de,g as pe,r as me,s as ge,t as be}from"./chunk-YBCWNEK5.js";import{a as se}from"./chunk-UJGH4TKB.js";import{a as re}from"./chunk-IZ3LLJO2.js";import"./chunk-VWJHJAMU.js";import{b as ee,c as te,e as ie,f as O,g as ne,h as oe,j as ae}from"./chunk-52TRBPRN.js";import{k as Q,n as X}from"./chunk-ELZ3HLUI.js";import{Ab as l,Ga as r,Jb as x,Kb as y,La as p,Lb as m,Mb as M,Nb as Z,Ra as u,Wa as G,Y as S,Ya as U,Zb as D,_b as J,aa as A,ba as H,fb as W,ga as _,ha as h,hb as g,i as V,ia as $,ib as b,ja as Y,jb as q,kb as w,lb as P,mb as v,nb as o,nc as K,ob as a,pb as c,q as j,ub as C,wa as B,yb as d,z}from"./chunk-DQHNRFYU.js";var k=class t{constructor(i,e,n){this.authService=i;this.router=e;this.el=n}toggleSidebar=new U;onToggleSidebar(){this.toggleSidebar.emit()}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||t)(p(se),p(O),p(B))};static \u0275cmp=u({type:t,selectors:[["app-header"]],outputs:{toggleSidebar:"toggleSidebar"},decls:19,vars:0,consts:[[1,"app-header","header-fixed","bg-primary","text-white","p-3","d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["aria-label","Toggle sidebar",1,"btn","btn-link","text-white","d-lg-none","me-2",3,"click"],[1,"bi","bi-list","fs-4"],["aria-label","Toggle sidebar",1,"btn","btn-link","text-white","d-none","d-lg-block","me-2",3,"click"],[1,"fw-bold","fs-4"],["ngbDropdown","",1,"dropdown"],["ngbDropdownToggle","","type","button",1,"btn","btn-primary","dropdown-toggle","d-flex","align-items-center"],[1,"me-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-circle"],["d","M11 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0 0 14A7 7 0 0 0 8 1zM4.285 12.433A5.978 5.978 0 0 1 8 13a5.978 5.978 0 0 1 3.715-1.567c-.2-.58-.805-1.433-3.715-1.433-2.91 0-3.515.853-3.715 1.433z"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","#",1,"dropdown-item",3,"click"]],template:function(e,n){e&1&&(o(0,"header",0)(1,"div",1)(2,"button",2),d("click",function(){return n.onToggleSidebar()}),c(3,"i",3),a(),o(4,"button",4),d("click",function(){return n.onToggleSidebar()}),c(5,"i",3),a(),o(6,"span",5),m(7,"Admin Dashboard"),a()(),o(8,"div",6)(9,"button",7)(10,"span",8),m(11,"Profile"),a(),$(),o(12,"svg",9),c(13,"path",10)(14,"path",11),a()(),Y(),o(15,"ul",12)(16,"li")(17,"a",13),d("click",function(){return n.logout()}),m(18,"Logout"),a()()()()())},dependencies:[pe,de,ce,le],styles:[".app-header[_ngcontent-%COMP%]{height:var(--header-height);box-shadow:0 2px 8px #0000000d}.app-header.header-fixed[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1001}.app-header.header-transparent[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none}.app-header.header-compact[_ngcontent-%COMP%]{padding:.5rem 1rem}"]})};var I=class t{constructor(i){this.router=i;this.initializeNavigation()}navigationItems=new V([]);navigationItems$=this.navigationItems.asObservable();initializeNavigation(){let i=this.convertRoutesToNavigationItems(ue);this.navigationItems.next(i)}convertRoutesToNavigationItems(i){return i.filter(e=>!e.hideInMenu).map(e=>({path:e.path,label:e.label,icon:e.icon,hideInMenu:e.hideInMenu,permissions:e.permissions,children:e.children?this.convertRoutesToNavigationItems(e.children):void 0}))}hasPermission(i){return!i||i.length===0,!0}static \u0275fac=function(e){return new(e||t)(A(O))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var ve="0.0.0";var E=class t{version=ve;getVersion(){return this.version}static \u0275fac=function(e){return new(e||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var we=t=>["/main",t],Pe=t=>({exact:t}),ye=(t,i)=>["/main",t,i],fe=(t,i)=>i.path;function Te(t,i){if(t&1&&c(0,"i",10),t&2){let e=l().$implicit,n=l();x("bi-chevron-down",!n.isExpanded(e.path))("bi-chevron-up",n.isExpanded(e.path))}}function Se(t,i){if(t&1&&(o(0,"li",2)(1,"a",13),c(2,"i",6),o(3,"span",7),m(4),a()()()),t&2){let e=i.$implicit,n=l(2).$implicit;r(),v("routerLink",J(4,ye,n.path,e.path)),r(),y("bi-"+e.icon),r(2),M(e.label)}}function ke(t,i){if(t&1&&(o(0,"div",11)(1,"ul",12),w(2,Se,5,7,"li",2,fe),a()()),t&2){let e=l().$implicit,n=l();x("show",n.isExpanded(e.path)),r(2),P(e.children)}}function Ie(t,i){if(t&1){let e=C();o(0,"li",2)(1,"a",4),d("click",function(s){let f=_(e).$implicit,he=l();return h(f.children!=null&&f.children.length?he.toggleSubmenu(f.path,s):null)}),o(2,"div",5),c(3,"i",6),o(4,"span",7),m(5),a()(),g(6,Te,1,4,"i",8),a(),g(7,ke,4,2,"div",9),a()}if(t&2){let e=i.$implicit;W("data-path",e.path),r(),v("routerLink",e.children!=null&&e.children.length?null:D(8,we,e.path))("routerLinkActiveOptions",D(10,Pe,!(e.children!=null&&e.children.length))),r(2),y("bi-"+e.icon),r(2),M(e.label),r(),b(e.children!=null&&e.children.length?6:-1),r(),b(e.children!=null&&e.children.length?7:-1)}}var R=class t{constructor(i,e){this.navigationService=i;this.versionService=e;this.version=this.versionService.getVersion()}collapsed=!1;isMobileView=!1;isHidden=!1;navigationItems=[];expandedItems=new Set;version;ngOnInit(){this.navigationService.navigationItems$.subscribe(i=>{this.navigationItems=i})}toggleSubmenu(i,e){e.preventDefault();let n=e.target.closest(".nav-item")?.querySelector(".submenu-collapse");n&&(this.expandedItems.has(i)?(n.style.height=n.scrollHeight+"px",n.offsetHeight,n.style.height="0",this.expandedItems.delete(i)):(n.style.height=n.scrollHeight+"px",this.expandedItems.add(i),n.addEventListener("transitionend",()=>{this.expandedItems.has(i)&&(n.style.height="auto")},{once:!0})))}isExpanded(i){return this.expandedItems.has(i)}static \u0275fac=function(e){return new(e||t)(p(I),p(E))};static \u0275cmp=u({type:t,selectors:[["app-sidebar"]],inputs:{collapsed:"collapsed",isMobileView:"isMobileView",isHidden:"isHidden"},decls:8,vars:7,consts:[[1,"app-sidebar","sidebar-fixed","bg-light","p-3"],[1,"nav","flex-column"],[1,"nav-item"],[1,"sidebar-footer","ps-0"],["routerLinkActive","active",1,"nav-link","d-flex","align-items-center","justify-content-between",3,"click","routerLink","routerLinkActiveOptions"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"nav-text"],[1,"bi",3,"bi-chevron-down","bi-chevron-up"],[1,"submenu-collapse",3,"show"],[1,"bi"],[1,"submenu-collapse"],[1,"nav","flex-column","ms-3"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(e,n){e&1&&(o(0,"aside",0)(1,"nav")(2,"ul",1),w(3,Ie,8,12,"li",2,fe),a()(),o(5,"div",3)(6,"small"),m(7),a()()()),e&2&&(x("sidebar-collapsed",n.collapsed)("mobile-view",n.isMobileView)("sidebar-hidden",n.isHidden),r(3),P(n.navigationItems),r(4),Z("version ",n.version))},dependencies:[ae,ne,oe,X],styles:["aside.app-sidebar[_ngcontent-%COMP%]{position:fixed;left:0;top:var(--header-height);height:calc(100vh - var(--header-height));width:var(--sidebar-width);background-color:var(--bs-light);box-shadow:2px 0 8px #00000008;z-index:1020;overflow-y:auto;transition:width .3s ease}aside.app-sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1rem;color:#333;cursor:pointer;transition:background-color .3s ease,color .3s ease}aside.app-sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:24px;text-align:center;margin-right:.75rem;transition:margin .3s ease,transform .3s ease}aside.app-sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{opacity:1;transition:opacity .3s ease}aside.app-sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#0000000d}aside.app-sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--bs-primary);background-color:rgba(var(--bs-primary-rgb),.1)}aside.app-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%] ~ .nav-link[_ngcontent-%COMP%], aside.app-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%] + .nav-link[_ngcontent-%COMP%], aside.app-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:has(.submenu-collapse .nav-link.active) > .nav-link[_ngcontent-%COMP%]{color:var(--bs-primary);background-color:rgba(var(--bs-primary-rgb),.1)}aside.app-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%] > .nav-link.active[_ngcontent-%COMP%], aside.app-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--bs-primary);background-color:rgba(var(--bs-primary-rgb),.1)}aside.app-sidebar[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]{height:0;overflow:hidden;transition:height .3s cubic-bezier(.4,0,.2,1)}aside.app-sidebar[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:2.75rem}aside.app-sidebar[_ngcontent-%COMP%]   .submenu-collapse.show[_ngcontent-%COMP%]{overflow:visible}aside.app-sidebar.sidebar-collapsed[_ngcontent-%COMP%]{width:var(--sidebar-collapsed-width)}aside.app-sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{opacity:0;width:0;display:none}aside.app-sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.75rem 0;justify-content:center}aside.app-sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}aside.app-sidebar.sidebar-collapsed[_ngcontent-%COMP%]   .submenu-collapse[_ngcontent-%COMP%]{display:none}aside.app-sidebar.mobile-view[_ngcontent-%COMP%]{transition:transform .3s ease;transform:translate(0)}aside.app-sidebar.mobile-view.sidebar-hidden[_ngcontent-%COMP%]{transform:translate(-100%)}aside.app-sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;padding:1rem;text-align:center;color:#666;font-size:.8rem;border-top:1px solid #eee}"]})};function Ee(t,i){t&1&&c(0,"i",5)}function Re(t,i){t&1&&c(0,"i",6)}function Ne(t,i){t&1&&c(0,"i",7)}function De(t,i){t&1&&c(0,"i",8)}function Fe(t,i){if(t&1&&(o(0,"h6",10),m(1),a()),t&2){let e=l(2).$implicit;r(),M(e.title)}}function Le(t,i){if(t&1){let e=C();o(0,"div",2)(1,"div",4),g(2,Ee,1,0,"i",5)(3,Re,1,0,"i",6)(4,Ne,1,0,"i",7)(5,De,1,0,"i",8),a(),o(6,"div",9),g(7,Fe,2,1,"h6",10),o(8,"small"),m(9),a()(),o(10,"button",11),d("click",function(){_(e);let s=l().$implicit,f=l();return h(f.toastService.remove(s))}),a()()}if(t&2){let e,n=l().$implicit,s=l();r(2),b((e=n.type)===s.ALERT_TYPE.SUCCESS?2:e===s.ALERT_TYPE.ERROR?3:e===s.ALERT_TYPE.WARNING?4:e===s.ALERT_TYPE.INFO?5:-1),r(5),b(n.title?7:-1),r(2),M(n.message)}}function Ve(t,i){}function je(t,i){if(t&1&&G(0,Ve,0,0,"ng-template",3),t&2){let e=l().$implicit;v("ngTemplateOutlet",e.template)}}function ze(t,i){if(t&1){let e=C();o(0,"ngb-toast",1),d("hidden",function(){let s=_(e).$implicit,f=l();return h(f.toastService.remove(s))}),g(1,Le,11,3,"div",2)(2,je,1,1,null,3),a()}if(t&2){let e=i.$implicit,n=l();y(e.classname),v("autohide",n.autohide)("delay",e.delay||n.defaultDelay),r(),b(!e.template&&e.message?1:2)}}var N=class t{toastService=H(be);ALERT_TYPE=re;autohide=!0;defaultDelay=5e3;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-toast"]],hostAttrs:[1,"toast-container","position-fixed","top-0","end-0","p-3","pt-5","mt-5",2,"z-index","1200"],decls:2,vars:0,consts:[[3,"class","autohide","delay"],[3,"hidden","autohide","delay"],[1,"d-flex","align-items-start"],[3,"ngTemplateOutlet"],[1,"toast-icon","me-2"],[1,"bi","bi-check-circle-fill","text-success"],[1,"bi","bi-x-circle-fill","text-danger"],[1,"bi","bi-exclamation-triangle-fill","text-warning"],[1,"bi","bi-info-circle-fill","text-info"],[1,"toast-body","flex-grow-1"],[1,"mb-1"],["type","button","aria-label","Close",1,"btn-close","ms-2",3,"click"]],template:function(e,n){e&1&&w(0,ze,3,5,"ngb-toast",0,q),e&2&&P(n.toastService.toasts())},dependencies:[ge,me,Q],styles:["[_nghost-%COMP%]     ngb-toast{min-width:300px;border-left:4px solid;padding:1rem}[_nghost-%COMP%]     ngb-toast.bg-success{background-color:#d4edda!important;border-left-color:#28a745}[_nghost-%COMP%]     ngb-toast.bg-danger{background-color:#f8d7da!important;border-left-color:#dc3545}[_nghost-%COMP%]     ngb-toast.bg-warning{background-color:#fff3cd!important;border-left-color:#ffc107}[_nghost-%COMP%]     ngb-toast.bg-info{background-color:#cce5ff!important;border-left-color:#0dcaf0}.toast-icon[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.25rem}.toast-body[_ngcontent-%COMP%]{margin-top:2px}.btn-close[_ngcontent-%COMP%]{padding:0;font-size:.875rem;opacity:.5;transition:opacity .15s}.btn-close[_ngcontent-%COMP%]:hover{opacity:1}"]})};function Ae(t,i){if(t&1){let e=C();o(0,"div",6),d("click",function(){_(e);let s=l();return h(s.handleToggleSidebar())}),a()}}var _e=class t{constructor(i,e,n){this.cdr=i;this.router=e;this.titleService=n;this.resizeListener=()=>{let s=this.isMobile();this.sidebarOpen=!s,s||(this.sidebarCollapsed=!1),this.cdr.detectChanges()},this.sidebarOpen=!this.isMobile()}sidebarOpen=!1;sidebarCollapsed=!1;resizeListener;ngOnInit(){window.addEventListener("resize",this.resizeListener),this.router.events.pipe(z(i=>i instanceof te),j(()=>{let i=this.router.routerState.root,e="Angular Zoneless UI Boilerplate";for(;i.firstChild;)i=i.firstChild,i.snapshot.data&&i.snapshot.data.title&&(e=i.snapshot.data.title);return e})).subscribe(i=>{this.titleService.setTitle(i)})}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener)}handleToggleSidebar(){this.isMobile()?this.sidebarOpen=!this.sidebarOpen:this.sidebarCollapsed=!this.sidebarCollapsed}isMobile(){return window.innerWidth<=991.98}static \u0275fac=function(e){return new(e||t)(p(K),p(O),p(ee))};static \u0275cmp=u({type:t,selectors:[["main-root"]],decls:8,vars:6,consts:[[1,"app-layout"],[3,"toggleSidebar"],[1,"app-layout-content"],[3,"collapsed","isMobileView","isHidden"],[1,"app-main-content"],[1,"sidebar-backdrop"],[1,"sidebar-backdrop",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"app-header",1),d("toggleSidebar",function(){return n.handleToggleSidebar()}),a(),o(2,"div",2),c(3,"app-sidebar",3),o(4,"main",4),c(5,"router-outlet"),a(),g(6,Ae,1,0,"div",5),a()(),c(7,"app-toast")),e&2&&(r(3),v("collapsed",n.sidebarCollapsed&&!n.isMobile())("isMobileView",n.isMobile())("isHidden",!n.sidebarOpen&&n.isMobile()),r(),x("content-expanded",n.sidebarCollapsed&&!n.isMobile()),r(2),b(n.sidebarOpen&&n.isMobile()?6:-1))},dependencies:[ie,k,R,N],styles:[".app-layout[_ngcontent-%COMP%]{min-height:100vh}.app-layout-content[_ngcontent-%COMP%]{position:relative;display:flex;min-height:100vh}.app-main-content[_ngcontent-%COMP%]{flex:1;min-width:0;padding:1.5rem;margin-left:var(--sidebar-width);min-height:calc(100vh - var(--header-height));transition:margin-left .3s ease;overflow-y:auto}.app-main-content.content-expanded[_ngcontent-%COMP%]{margin-left:var(--sidebar-collapsed-width)}@media (max-width: 991.98px){.app-main-content[_ngcontent-%COMP%]{margin-left:0;width:100%}}.sidebar-backdrop[_ngcontent-%COMP%]{display:none}@media (max-width: 991.98px){.sidebar-backdrop[_ngcontent-%COMP%]{display:block;position:fixed;top:var(--header-height);left:0;right:0;bottom:0;background:#0000004d;z-index:1019}}"]})};export{_e as MainRootComponent};
